<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <title>Yescourses · Course</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="background">
    <div id="circles-container"></div>
</div>

<header class="main-header">
    <div class="logo">yescourses</div>
    <nav class="main-nav">
        <a href="index.html#features">ფუნქციები</a>
        <a href="#discord">Discord</a>
    </nav>
</header>

<main>
    <section class="section">
        <h2 class="section-title">შენი კურსის სივრცე</h2>
        <p class="section-subtitle">
            აქ გამოჩნდება შენთვის ხელმისაწვდომი ვიდეო გაკვეთილები და მასალები, როგორც კი პაკეტს შეიძენ.
        </p>

        <div class="videos-list">
            <article class="video-card">
                <div class="video-header">
                    <span class="video-order">#1</span>
                    <h3 class="video-title">საბაზისო მისაღები გაკვეთილი</h3>
                </div>
                <p class="video-description">
                    დემო ადგილი პირველი ვიდეოსთვის. რეალური პროექტში აქ დაინახავ ატვირთულ ვიდეოს.
                </p>
                <div class="video-player" style="display:flex;align-items:center;justify-content:center;padding:1.2rem;color:#9ca3af;">
                    ვიდეოს ადგილი (დემო)
                </div>
            </article>
        </div>
    </section>

    <section id="discord" class="section join-section">
        <div class="join-card">
            <h2>შემოგვიერთდი Discord-ზე</h2>
            <p>
                ჩაერთე დახურულ ჯგუფში, დაუსვი კითხვები მენტორებს და იმუშავე სხვა სტუდენტებთან ერთად.
            </p>
            <a class="btn-outline" href="#" target="_blank">
                Discord ჯგუფი (ბმული დაემატება მოგვიანებით)
            </a>
        </div>
    </section>
</main>

<footer class="main-footer">
    <p>© 2026 Yescourses · yestour</p>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const circlesContainer = document.getElementById("circles-container");
    if (circlesContainer) {
        const dots = [];
        const dotCount = 18;
        for (let i = 0; i < dotCount; i++) {
            const dot = document.createElement("div");
            dot.className = "circle";
            const duration = 22 + Math.random() * 16;
            const delay = Math.random() * -duration;
            const left = Math.random() * 100;
            const top = Math.random() * 100;
            dot.style.left = `${left}%`;
            dot.style.top = `${top}%`;
            dot.style.animationDuration = `${duration}s`;
            dot.style.animationDelay = `${delay}s`;
            circlesContainer.appendChild(dot);
            dots.push({ el: dot, left, top });
        }

        for (let i = 1; i < dots.length; i++) {
            const a = dots[i - 1];
            const b = dots[i];
            const line = document.createElement("div");
            line.className = "circle-line";

            const x1 = a.left;
            const y1 = a.top;
            const x2 = b.left;
            const y2 = b.top;
            const dx = x2 - x1;
            const dy = y2 - y1;
            const length = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * (180 / Math.PI);

            line.style.width = `${length}vw`;
            line.style.left = `${x1}%`;
            line.style.top = `${y1}%`;
            line.style.transformOrigin = "0 0";
            line.style.transform = `rotate(${angle}deg)`;

            circlesContainer.appendChild(line);
        }
    }
});
</script>
</body>
</html>

{% extends "base.html" %}
{% block content %}
<section class="section">
    <h2 class="section-title">{{ pack.name }} · ვიდეო კურსი</h2>
    <p class="section-subtitle">
        აქ იხილავ ყველა გაკვეთილს, რომელიც ხელმისაწვდომია შენთვის შეძენილი პაკეტით.
    </p>

    {% if videos %}
        <div class="videos-list">
            {% for v in videos %}
                <article class="video-card">
                    <div class="video-header">
                        <span class="video-order">#{{ v['order_index'] }}</span>
                        <h3 class="video-title">{{ v['title'] }}</h3>
                    </div>
                    {% if v['description'] %}
                        <p class="video-description">{{ v['description'] }}</p>
                    {% endif %}
                    <video class="video-player" controls preload="metadata">
                        <source src="{{ url_for('uploaded_file', filename=v['filename']) }}" type="video/mp4">
                        შენი ბრაუზერი ვერ აჩვენებს ამ ვიდეოს.
                    </video>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <p>ამ პაკეტისთვის ვიდეოები ჯერ არ არის ატვირთული. დაბრუნდი ცოტა მოგვიანებით.</p>
    {% endif %}
</section>
{% endblock %}

